<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>Doolhof met Speler</title>
  <style>
    .grid-container {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      grid-template-rows: repeat(7, 1fr);
      width: 80vmin;
      height: 80vmin;
      gap: 2px;
      margin: 0 auto;
    }

    .grid-item {
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1rem;
      border-radius: 4px;
      transition: background-color 0.2s;
    }

    .wall { background-color: #333; }
    .path { background-color: #fff; }
    .start { background-color: #4CAF50; }
    .end { background-color: #F44336; }
    .player { background-color: #2196F3; color: white; }
  </style>
</head>
<body>

  <div class="grid-container" id="maze"></div>

  <script>
    // Doolhofstructuur: W = wall, P = path, S = start, E = end
    const mazeLayout = [
      ['S','P','W','P','W','P','W'],
      ['W','P','W','P','W','P','W'],
      ['W','P','P','P','W','W','W'],
      ['W','W','W','P','W','P','W'],
      ['W','P','W','P','W','P','W'],
      ['W','P','W','P','P','P','W'],
      ['W','W','W','W','W','E','W']
    ];

    const maze = document.getElementById('maze');
    let playerPos = { row: 0, col: 0 };

    function renderMaze() {
      maze.innerHTML = ''; // Leegmaken
      for (let row = 0; row < 7; row++) {
        for (let col = 0; col < 7; col++) {
          const cell = document.createElement('div');
          const value = mazeLayout[row][col];
          cell.classList.add('grid-item');

          if (playerPos.row === row && playerPos.col === col) {
            cell.classList.add('player');
            cell.textContent = 'ðŸ™‚';
          } else if (value === 'W') {
            cell.classList.add('wall');
          } else if (value === 'P') {
            cell.classList.add('path');
          } else if (value === 'S') {
            cell.classList.add('start');
          } else if (value === 'E') {
            cell.classList.add('end');
          }

          maze.appendChild(cell);
        }
      }
    }

    function movePlayer(dir) {
      const { row, col } = playerPos;
      let newRow = row, newCol = col;

      if (dir === 'ArrowUp') newRow--;
      else if (dir === 'ArrowDown') newRow++;
      else if (dir === 'ArrowLeft') newCol--;
      else if (dir === 'ArrowRight') newCol++;

      if (
        newRow >= 0 && newRow < 7 &&
        newCol >= 0 && newCol < 7 &&
        mazeLayout[newRow][newCol] !== 'W'
      ) {
        playerPos = { row: newRow, col: newCol };
        renderMaze();

        if (mazeLayout[newRow][newCol] === 'E') {
          setTimeout(() => alert("ðŸŽ‰ Je hebt het einde bereikt!"), 100);
        }
      }
    }

    // Luister naar pijltjestoetsen
    window.addEventListener('keydown', (e) => {
      if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {
        e.preventDefault();
        movePlayer(e.key);
      }
    });

    renderMaze();
  </script>

</body>
</html>
